!function(t){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e=t[0];return e.offsetWidth>0&&e.offsetHeight>0}function i(e){if(e.minTime&&(e.minTime=_(e.minTime)),e.maxTime&&(e.maxTime=_(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=_(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(_(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var i=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(_(i),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"===t.type(e.timeFormat)&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),e.showOnFocus===!1&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),e.disableTimeRanges.length>0){for(var n in e.disableTimeRanges)e.disableTimeRanges[n]=[_(e.disableTimeRanges[n][0]),_(e.disableTimeRanges[n][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(t,e){return t[0]-e[0]});for(var n=e.disableTimeRanges.length-1;n>0;n--)e.disableTimeRanges[n][0]<=e.disableTimeRanges[n-1][1]&&(e.disableTimeRanges[n-1]=[Math.min(e.disableTimeRanges[n][0],e.disableTimeRanges[n-1][0]),Math.max(e.disableTimeRanges[n][1],e.disableTimeRanges[n-1][1])],e.disableTimeRanges.splice(n,1))}return e}function n(e){var i=e.data("timepicker-settings"),n=e.data("timepicker-list");if(n&&n.length&&(n.remove(),e.data("timepicker-list",!1)),i.useSelect){n=t("<select />",{"class":"ui-timepicker-select"});var a=n}else{n=t("<ul />",{"class":"ui-timepicker-list"});var a=t("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});a.css({display:"none",position:"absolute"}).append(n)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),t.isArray(i.noneOption)){for(var u in i.noneOption)if(parseInt(u,10)==u){var l=r(i.noneOption[u],i.useSelect);n.append(l)}}else{var l=r(i.noneOption,i.useSelect);n.append(l)}i.className&&a.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step?"function":i.step,a.addClass("ui-timepicker-with-duration"),a.addClass("ui-timepicker-step-"+i.step));var h=i.minTime;"function"==typeof i.durationTime?h=_(i.durationTime()):null!==i.durationTime&&(h=i.durationTime);var d=null!==i.minTime?i.minTime:0,f=null!==i.maxTime?i.maxTime:d+k-1;d>f&&(f+=k),f===k-1&&"string"===t.type(i.timeFormat)&&i.show2400&&(f=k);var m=i.disableTimeRanges,w=0,T=m.length,C=i.step;"function"!=typeof C&&(C=function(){return i.step});for(var u=d,S=0;f>=u;S++,u+=60*C(S)){var A=u,$=y(A,i);if(i.useSelect){var D=t("<option />",{value:$});D.text($)}else{var D=t("<li />");D.addClass(k/2>A%k?"ui-timepicker-am":"ui-timepicker-pm"),D.data("time",b(A,i)),D.text($)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var R=v(u-h,i.step);if(i.useSelect)D.text(D.text()+" ("+R+")");else{var q=t("<span />",{"class":"ui-timepicker-duration"});q.text(" ("+R+")"),D.append(q)}}T>w&&(A>=m[w][1]&&(w+=1),m[w]&&A>=m[w][0]&&A<m[w][1]&&(i.useSelect?D.prop("disabled",!0):D.addClass("ui-timepicker-disabled"))),n.append(D)}if(a.data("timepicker-input",e),e.data("timepicker-list",a),i.useSelect)e.val()&&n.val(s(_(e.val()),i)),n.on("focus",function(){t(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){t(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){p(e,t(this).val(),"select")}),p(e,n.val(),"initial"),e.hide().after(n);else{var O=i.appendTo;"string"==typeof O?O=t(O):"function"==typeof O&&(O=O(e)),O.append(a),c(e,n),n.on("mousedown click","li",function(i){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",x.show)}),o(e)||e[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),t(this).addClass("ui-timepicker-selected"),g(e)&&(e.trigger("hideTimepicker"),n.on("mouseup.timepicker click.timepicker","li",function(t){n.off("mouseup.timepicker click.timepicker"),a.hide()}))})}}function r(e,i){var n,r,s;return"object"==typeof e?(n=e.label,r=e.className,s=e.value):"string"==typeof e?n=e:t.error("Invalid noneOption value"),i?t("<option />",{value:s,"class":r,text:n}):t("<li />",{"class":r,text:n}).data("time",String(s))}function s(t,e){return t=e.roundingFunction(t,e),null!==t?y(t,e):void 0}function a(e){if(e.target!=window){var i=t(e.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(x.hide(),t(document).unbind(".ui-timepicker"),t(window).unbind(".ui-timepicker"))}}function o(t){var e=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function u(e,i,n){if(!n&&0!==n)return!1;var r=e.data("timepicker-settings"),s=!1,n=r.roundingFunction(n,r);return i.find("li").each(function(e,i){var r=t(i);if("number"==typeof r.data("time"))return r.data("time")==n?(s=r,!1):void 0}),s}function c(t,e){e.find("li").removeClass("ui-timepicker-selected");var i=t.data("timepicker-settings"),n=_(h(t),i);if(null!==n){var r=u(t,e,n);if(r){var s=r.offset().top-e.offset().top;(s+r.outerHeight()>e.outerHeight()||0>s)&&e.scrollTop(e.scrollTop()+r.position().top-r.outerHeight()),(i.forceRoundTime||r.data("time")===n)&&r.addClass("ui-timepicker-selected")}}}function l(e,i){if("timepicker"!=i){var n=t(this);if(""===this.value)return void p(n,null,i);if(!n.is(":focus")||e&&"change"==e.type){var r=n.data("timepicker-settings"),s=_(this.value,r);if(null===s)return void n.trigger("timeFormatError");var a=!1;if(null!==r.minTime&&null!==r.maxTime&&(s<r.minTime||s>r.maxTime)&&(a=!0),t.each(r.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(a=!0,!1):void 0}),r.forceRoundTime){var o=r.roundingFunction(s,r);o!=s&&(s=o,i=null)}var u=y(s,r);a?(p(n,u,"error")||e&&"change"==e.type)&&n.trigger("timeRangeError"):p(n,u,i)}}}function h(t){return t.is("input")?t.val():t.data("ui-timepicker-value")}function p(t,e,i){if(t.is("input")){t.val(e);var n=t.data("timepicker-settings");n.useSelect&&"select"!=i&&t.data("timepicker-list").val(s(_(e),n))}return t.data("ui-timepicker-value")!=e?(t.data("ui-timepicker-value",e),"select"==i?t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&t.trigger("changeTime"),!0):(-1==["error","initial"].indexOf(i)&&t.trigger("selectTime"),!1)}function d(t){switch(t.keyCode){case 13:case 9:return;default:t.preventDefault()}}function f(i){var n=t(this),r=n.data("timepicker-list");if(!r||!e(r)){if(40!=i.keyCode)return!0;x.show.call(n.get(0)),r=n.data("timepicker-list"),o(n)||n.focus()}switch(i.keyCode){case 13:return g(n)&&(l.call(n.get(0),{type:"change"}),x.hide.apply(this)),i.preventDefault(),!1;case 38:var s=r.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&r.scrollTop(r.scrollTop()-s.outerHeight())):(r.find("li").each(function(e,i){return t(i).position().top>0?(s=t(i),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return s=r.find(".ui-timepicker-selected"),0===s.length?(r.find("li").each(function(e,i){return t(i).position().top>0?(s=t(i),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+s.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected"),x.hide();break;case 9:x.hide();break;default:return!0}}function m(i){var n=t(this),r=n.data("timepicker-list"),s=n.data("timepicker-settings");if(!r||!e(r)||s.disableTextInput)return!0;if("paste"===i.type||"cut"===i.type)return void setTimeout(function(){s.typeaheadHighlight?c(n,r):r.hide()},0);switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?c(n,r):r.hide()}}function g(t){var e=t.data("timepicker-settings"),i=t.data("timepicker-list"),n=null,r=i.find(".ui-timepicker-selected");return!r.hasClass("ui-timepicker-disabled")&&(r.length&&(n=r.data("time")),null!==n&&("string"!=typeof n&&(n=y(n,e)),p(t,n,"select")),!0)}function v(t,e){t=Math.abs(t);var i,n,r=Math.round(t/60),s=[];return 60>r?s=[r,w.mins]:(i=Math.floor(r/60),n=r%60,30==e&&30==n&&(i+=w.decimal+5),s.push(i),s.push(1==i?w.hr:w.hrs),30!=e&&n&&(s.push(n),s.push(w.mins))),s.join(" ")}function y(e,i){if("number"!=typeof e)return null;var n=parseInt(e%60),r=parseInt(e/60%60),s=parseInt(e/3600%24),a=new Date(1970,0,2,s,r,n,0);if(isNaN(a.getTime()))return null;if("function"===t.type(i.timeFormat))return i.timeFormat(a);for(var o,u,c="",l=0;l<i.timeFormat.length;l++)switch(u=i.timeFormat.charAt(l)){case"a":c+=a.getHours()>11?w.pm:w.am;break;case"A":c+=a.getHours()>11?w.PM:w.AM;break;case"g":o=a.getHours()%12,c+=0===o?"12":o;break;case"G":o=a.getHours(),e===k&&(o=i.show2400?24:0),c+=o;break;case"h":o=a.getHours()%12,0!==o&&10>o&&(o="0"+o),c+=0===o?"12":o;break;case"H":o=a.getHours(),e===k&&(o=i.show2400?24:0),c+=o>9?o:"0"+o;break;case"i":var r=a.getMinutes();c+=r>9?r:"0"+r;break;case"s":n=a.getSeconds(),c+=n>9?n:"0"+n;break;case"\\":l++,c+=i.timeFormat.charAt(l);break;default:c+=u}return c}function _(t,e){if(""===t||null===t)return null;if("object"==typeof t)return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds();if("string"!=typeof t)return t;t=t.toLowerCase().replace(/[\s\.]/g,""),("a"==t.slice(-1)||"p"==t.slice(-1))&&(t+="m");var i="("+w.am.replace(".","")+"|"+w.pm.replace(".","")+"|"+w.AM.replace(".","")+"|"+w.PM.replace(".","")+")?",n=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),r=t.match(n);if(!r)return null;var s=parseInt(1*r[2],10),a=r[1]||r[5],o=s,u=1*r[3]||0,c=1*r[4]||0;if(12>=s&&a){var l=a==w.pm||a==w.PM;o=12==s?l?12:0:s+(l?12:0)}else if(e){var h=3600*s+60*u+c;if(h>=k+(e.show2400?1:0)){if(e.wrapHours===!1)return null;o=s%24}}var p=3600*o+60*u+c;if(12>s&&!a&&e&&e._twelveHourTime&&e.scrollDefault){var d=p-e.scrollDefault();0>d&&d>=k/-2&&(p=(p+k/2)%k)}return p}function b(t,e){return t==k&&e.show2400?t:t%k}var k=86400,w={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},T={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(t,e){if(null===t)return null;if("number"!=typeof e.step)return t;var i=t%(60*e.step),n=e.minTime||0;return i-=n%(60*e.step),i>=30*e.step?t+=60*e.step-i:t-=i,b(t,e)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},x={init:function(e){return this.each(function(){var r=t(this),s=[];for(var a in T)r.data(a)&&(s[a]=r.data(a));var o=t.extend({},T,e,s);if(o.lang&&(w=t.extend(w,o.lang)),o=i(o),r.data("timepicker-settings",o),r.addClass("ui-timepicker-input"),o.useSelect)n(r);else{if(r.prop("autocomplete","off"),o.showOn)for(var u in o.showOn)r.on(o.showOn[u]+".timepicker",x.show);r.on("change.timepicker",l),r.on("keydown.timepicker",f),r.on("keyup.timepicker",m),o.disableTextInput&&r.on("keydown.timepicker",d),r.on("cut.timepicker",m),r.on("paste.timepicker",m),l.call(r.get(0),null,"initial")}})},show:function(i){var r=t(this),s=r.data("timepicker-settings");if(i&&i.preventDefault(),s.useSelect)return void r.data("timepicker-list").focus();o(r)&&r.blur();var l=r.data("timepicker-list");if(!r.prop("readonly")&&(l&&0!==l.length&&"function"!=typeof s.durationTime||(n(r),l=r.data("timepicker-list")),!e(l))){r.data("ui-timepicker-value",r.val()),c(r,l),x.hide(),l.show();var p={};s.orientation.match(/r/)?p.left=r.offset().left+r.outerWidth()-l.outerWidth()+parseInt(l.css("marginLeft").replace("px",""),10):p.left=r.offset().left+parseInt(l.css("marginLeft").replace("px",""),10);var d;d=s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":r.offset().top+r.outerHeight(!0)+l.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b","t"==d?(l.addClass("ui-timepicker-positioned-top"),p.top=r.offset().top-l.outerHeight()+parseInt(l.css("marginTop").replace("px",""),10)):(l.removeClass("ui-timepicker-positioned-top"),p.top=r.offset().top+r.outerHeight()+parseInt(l.css("marginTop").replace("px",""),10)),l.offset(p);var f=l.find(".ui-timepicker-selected");if(!f.length){var m=_(h(r));null!==m?f=u(r,l,m):s.scrollDefault&&(f=u(r,l,s.scrollDefault()))}if((!f.length||f.hasClass("ui-timepicker-disabled"))&&(f=l.find("li:not(.ui-timepicker-disabled):first")),f&&f.length){var g=l.scrollTop()+f.position().top-f.outerHeight();l.scrollTop(g)}else l.scrollTop(0);return s.stopScrollPropagation&&t(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var i=t(this).scrollTop();t(this).scrollTop(i+e.originalEvent.deltaY)}),t(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",a),t(window).on("resize.ui-timepicker",a),s.closeOnWindowScroll&&t(document).on("scroll.ui-timepicker",a),r.trigger("showTimepicker"),this}},hide:function(i){var n=t(this),r=n.data("timepicker-settings");return r&&r.useSelect&&n.blur(),t(".ui-timepicker-wrapper").each(function(){var i=t(this);if(e(i)){var n=i.data("timepicker-input"),r=n.data("timepicker-settings");r&&r.selectOnBlur&&g(n),i.hide(),n.trigger("hideTimepicker")}}),this},option:function(e,r){return"string"==typeof e&&"undefined"==typeof r?t(this).data("timepicker-settings")[e]:this.each(function(){var s=t(this),a=s.data("timepicker-settings"),o=s.data("timepicker-list");"object"==typeof e?a=t.extend(a,e):"string"==typeof e&&(a[e]=r),a=i(a),s.data("timepicker-settings",a),l.call(s.get(0),{type:"change"},"initial"),o&&(o.remove(),s.data("timepicker-list",!1)),a.useSelect&&n(s)})},getSecondsFromMidnight:function(){return _(h(this))},getTime:function(t){var e=this,i=h(e);if(!i)return null;var n=_(i);if(null===n)return null;t||(t=new Date);var r=new Date(t);return r.setHours(n/3600),r.setMinutes(n%3600/60),r.setSeconds(n%60),r.setMilliseconds(0),r},isVisible:function(){var t=this,i=t.data("timepicker-list");return!(!i||!e(i))},setTime:function(t){var e=this,i=e.data("timepicker-settings");if(i.forceRoundTime)var n=s(_(t),i);else var n=y(_(t),i);return t&&null===n&&i.noneOption&&(n=t),p(e,n,"initial"),l.call(e.get(0),{type:"change"},"initial"),e.data("timepicker-list")&&c(e,e.data("timepicker-list")),this},remove:function(){var t=this;if(t.hasClass("ui-timepicker-input")){var e=t.data("timepicker-settings");return t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),e.useSelect&&t.show(),t.removeData("timepicker-list"),this}}};t.fn.timepicker=function(e){return this.length?x[e]?this.hasClass("ui-timepicker-input")?x[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.timepicker"):x.init.apply(this,arguments):this}}),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return t.Bloodhound=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var s,a,o=this,u=arguments;return s=function(){n=null,i||(r=t.apply(o,u))},a=i&&!n,clearTimeout(n),n=setTimeout(s,e),a&&(r=t.apply(o,u)),r}},throttle:function(t,e){var i,n,r,s,a,o;return a=0,o=function(){a=new Date,r=null,s=t.apply(i,n)},function(){var u=new Date,c=e-(u-a);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,a=u,s=t.apply(i,n)):r||(r=setTimeout(o,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),s=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||o,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(e){return t.parseJSON(e)}function a(t){var e,i,n=[],r=o.length;for(e=0;e<r;e++)(i=o.key(e)).match(t)&&n.push(i.replace(t,""));return n}var o;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(u){o=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),s(this.ls.getItem(this._prefix(t)))},set:function(t,i,s){return e.isNumber(s)?this._safeSet(this._ttlKey(t),r(n()+s)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=a(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=s(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),a=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):o}var n=0,s={},a=6,o=new r(10);return i.setMaxPendingRequests=function(t){a=t},i.resetCache=function(){o.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),l._cache.set(u,t)}function r(){e(!0)}function o(){n--,delete s[u],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var u,c,l=this;u=this._fingerprint(t),this.cancelled||u!==this.lastReq||((c=s[u])?c.done(i).fail(r):n<a?(n++,s[u]=this._send(t).done(i).fail(r).always(o)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,s;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},s=this._fingerprint(i),this.cancelled=!1,this.lastReq=s,(r=this._cache.get(s))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),o=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[u]=[],t[o]={},t}function s(t){for(var e={},i=[],n=0,r=t.length;n<r;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function a(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var s=t.length,a=e.length;i<s&&n<a;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),i++,n++);return r}var o="c",u="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,a;i.datums[s=i.identify(t)]=t,a=n(i.datumTokenizer(t)),e.each(a,function(t){var e,n,a;for(e=i.trie,n=t.split("");a=n.shift();)e=e[o][a]||(e[o][a]=r()),e[u].push(s)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,c=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,s;if(r&&0===r.length)return!1;for(e=c.trie,i=t.split("");e&&(n=i.shift());)e=e[o][n];return e&&0===i.length?(s=e[u].slice(0),void(r=r?a(r,s):s)):(r=[],!1)}),r?e.map(s(r),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),u=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),l=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(r,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?o(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=s(i),i.limiter=a(i),i.transport=i.transport?o(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function s(t){function e(t,e){return e.url=s(e.url,t),e}function i(t,e){return e.url=e.url.replace(a,encodeURIComponent(t)),e}function n(t,e){return e}var r,s,a;return r=t.prepare,s=t.replace,a=t.wildcard,r?r:r=s?e:t.wildcard?i:n}function a(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,s,a;return r=t.limiter,s=t.rateLimitBy,a=t.rateLimitWait,r||(r=/^throttle$/i.test(s)?n(a):i(a)),r}function o(i){return function(n){function r(t){e.defer(function(){a.resolve(t)})}function s(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return i(n,r,s),a}}return function(i){var s,a;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(s,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),a=i.sorter,i.sorter=a?function(t){return t.sort(a)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),h=function(){"use strict";function i(t){t=l(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new u(t.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,function(t){!e.some(s,function(e){return a.identify(t)===a.identify(e)})&&i.push(t)}),n&&n(i)}var s,a=this;return s=this.sorter(this.index.search(t)),i(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return h}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var s,a,o=this,u=arguments;return s=function(){n=null,i||(r=t.apply(o,u))},a=i&&!n,clearTimeout(n),n=setTimeout(s,e),a&&(r=t.apply(o,u)),r}},throttle:function(t,e){var i,n,r,s,a,o;return a=0,o=function(){a=new Date,r=null,s=t.apply(i,n)},function(){var u=new Date,c=e-(u-a);return i=this,n=arguments,c<=0?(clearTimeout(r),r=null,a=u,s=t.apply(i,n)):r||(r=setTimeout(o,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var a,o;return o=e.mixin({},s,t),a={css:r(),classes:o,html:i(o),selectors:n(o)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var r;return r=t.Event(n+e),(i=i||[]).unshift(r),this.$el.trigger.apply(this.$el,i),r},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),
i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,i,n){var r;if(!i)return this;for(e=e.split(u),i=n?o(i,n):i,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,i,n,r,a;if(!this._callbacks)return this;for(t=t.split(u),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)r=s(i.sync,this,[e].concat(n)),a=s(i.async,this,[e].concat(n)),r()&&c(a);return this}function s(t,e,i){function n(){for(var n,r=0,s=t.length;!n&&r<s;r+=1)n=t[r].apply(e,i)===!1;return!n}return n}function a(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function o(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,c=a();return{onSync:i,onAsync:e,off:n,trigger:r}}(),s=function(t){"use strict";function i(t,i,n){for(var r,s=[],a=0,o=t.length;a<o;a++)s.push(e.escapeRegExChars(t[a]));return r=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function s(e){var i,n,s;return(i=o.exec(e.data))&&(s=t.createElement(r.tagName),r.className&&(s.className=r.className),n=e.splitText(i.index),n.splitText(i[0].length),s.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(s,n)),!!i}function a(t,e){for(var i,n=3,r=0;r<t.childNodes.length;r++)i=t.childNodes[r],i.nodeType===n?r+=e(i)?1:0:a(i,e)}var o;r=e.mixin({},n,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],o=i(r.pattern,r.caseSensitive,r.wordsOnly),a(r.node,s))}}(window.document),a=function(){"use strict";function i(i,r){i=i||{},i.input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!a(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!a(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=s(t,this.query),n=!!i&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,r,s=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(s._onInput,s,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),o=function(){"use strict";function i(i,r){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!o(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=a(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function a(i,n){function r(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var u,c;return u={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(u.obj)?{val:i.data(u.val)||"",obj:i.data(u.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,a=this;return r=document.createDocumentFragment(),e.each(n,function(e){var n,s;s=a._injectQuery(i,e),n=t(a.templates.suggestion(s)).data(u.obj,e).data(u.val,a.displayFn(e)).addClass(a.classes.suggestion+" "+a.classes.selectable),r.appendChild(n[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){a||(a=!0,t=(t||[]).slice(0,r.limit),o=t.length,r._overwrite(e,t),o<r.limit&&r.async&&r.trigger("asyncRequested",e))}function n(i){i=i||[],!s&&o<r.limit&&(r.cancel=t.noop,o+=i.length,r._append(e,i.slice(0,r.limit-o)),r.async&&r.trigger("asyncReceived",e))}var r=this,s=!1,a=!1,o=0;this.cancel(),this.cancel=function(){s=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,i,n),!a&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),u=function(){"use strict";function i(i,n){function r(e){var i=s.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(s.$node),new o(e,n)}var s=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,r)}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,r;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,r=n+t,r=(r+1)%(e.length+1)-1,r=r<-1?e.length-1:r,r===-1?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?o.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),c=function(){"use strict";function t(){u.apply(this,[].slice.call(arguments,0))}var i=u.prototype;return e.mixin(t.prototype,u.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),l=function(){"use strict";function i(i,r){var s,a,o,u,c,l,h,p,d,f,m;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=n(this,"activate","open","_onFocused"),a=n(this,"deactivate","_onBlurred"),o=n(this,"isActive","isOpen","_onEnterKeyed"),u=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),l=n(this,"isActive","open","_onUpKeyed"),h=n(this,"isActive","open","_onDownKeyed"),p=n(this,"isActive","isOpen","_onLeftKeyed"),d=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),m=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",a,this).onSync("enterKeyed",o,this).onSync("tabKeyed",u,this).onSync("escKeyed",c,this).onSync("upKeyed",l,this).onSync("downKeyed",h,this).onSync("leftKeyed",p,this).onSync("rightKeyed",d,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var r,s,a;r=document.activeElement,s=n.is(r),a=n.has(r).length>0,e.isMsie()&&(s||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,r,s,o,u;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(n),s=e.escapeRegExChars(r),o=new RegExp("^(?:"+s+")(.+$)","i"),u=o.exec(i.val),u&&this.input.setHint(n+u[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i,n;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),n=i&&e!==i.val,!(!n||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,r,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),r=n?n.obj:null,s=this._minLengthMet()&&this.menu.update(e),!s&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each(function(){var e,n=t(this);(e=n.data(m.typeahead))&&i(e,n)})}function s(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(i){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function p(t){var i,n;i=t.data(m.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(m.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function d(i){var n,r;return n=e.isJQuery(i)||e.isElement(i),r=n?t(i).first():[],r.length?r:null}var f,m,g;f=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,h){function p(){var i,p,g,v,y,_,b,k,w,T,x;e.each(h,function(t){t.highlight=!!r.highlight}),i=t(this),p=t(f.html.wrapper),g=d(r.hint),v=d(r.menu),y=r.hint!==!1&&!g,_=r.menu!==!1&&!v,y&&(g=s(i,f)),_&&(v=t(f.html.menu).css(f.css.menu)),g&&g.val(""),i=o(i,f),(y||_)&&(p.css(f.css.wrapper),i.css(y?f.css.input:f.css.inputWithNoHint),i.wrap(p).parent().prepend(y?g:null).append(_?v:null)),x=_?c:u,b=new n({el:i}),k=new a({hint:g,input:i},f),w=new x({node:v,datasets:h},f),T=new l({input:k,menu:w,eventBus:b,minLength:r.minLength},f),i.data(m.www,f),i.data(m.typeahead,T)}var f;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},f=i(r.classNames),this.each(p)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return r(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){p(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),jQuery(function(t){function e(){t.getJSON(tsml.ajaxurl+"?action=tsml_import",function(i){var n=t("body.tsml_meeting_page_import div#tsml_import_progress"),r=n.attr("data-total"),s=Math.floor((r-i.remaining)/r*95)+5+"%";n.find(".progress-bar").css({width:s}).text(s);for(var a=t("#tsml_counts"),o=["meetings","locations","groups","regions"],u=0;u<o.length;u++){var c=o[u];i.counts[c]>0&&(a.hasClass("hidden")&&a.removeClass("hidden"),$li=a.find("li."+c),$li.hasClass("hidden")&&$li.removeClass("hidden"),$li.text(i.descriptions[c]))}if(i.data_sources&&t.each(i.data_sources,function(e,i){t('tr[data-source="'+e+'"] td.count_meetings').html(i.count_meetings)}),i.errors.length){$errors=t("#tsml_import_errors"),$errors.hasClass("hidden")&&$errors.removeClass("hidden");for(var u=0;u<i.errors.length;u++)$errors.append(i.errors[u])}i.remaining&&e()})}function i(){a=!0,t("#publish").removeClass("disabled")}function n(){a=!1,t("#publish").addClass("disabled")}function r(e,i){if(!e||!i)return void t("div#map").html("");var n=new google.maps.LatLng(e,i),r=new google.maps.Map(document.getElementById("map"),{zoom:16,zoomControl:!0,scrollwheel:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,center:n});new google.maps.Marker({position:n,map:r})}t("div#tsml_import_progress").length&&(t("div#tsml_import_progress div.progress-bar").css({width:"5%"}),t("#tsml_import_errors").addClass("hidden"),e()),t("table form span").click(function(){t(this).parent().submit()});var s=t("input#post_type");if(s.size()&&"tsml_meeting"==s.val()){var a=!0;t("form#post").submit(function(){return a}),t(".toggle_more").on("click","a",function(e){e.preventDefault(),t(this).closest(".checkboxes").toggleClass("showing_more")}),t("select#day").change(function(){var e=t(this).val(),i=t("input#time"),n=t("input#end_time");if(e){i.removeAttr("disabled"),n.removeAttr("disabled");var r=!i.val()&&i.attr("data-value")?i.attr("data-value"):"00:00",s=!n.val()&&n.attr("data-value")?n.attr("data-value"):"01:00";i.val(r).timepicker(),n.val(s).timepicker()}else i.attr("data-value",i.val()).val("").attr("disabled","disabled"),n.attr("data-value",n.val()).val("").attr("disabled","disabled")}),t("input.time").timepicker(),t("input#time").change(function(){var e=t(this).val().split(":");if(2===e.length){var i=e[0]-0,e=e[1].split(" ");if(2===e.length){var n=e[0],r=e[1];12==i?i=1:(i++,12==i&&(r="am"==r?"pm":"am")),i+="",t("input#end_time").val(i+":"+n+" "+r)}}}),t("body.post-type-meetings form#post").on("change",'input[name="types[]"]',function(){t('body.post-type-meetings form#post input[name="types[]"][value="C"]').prop("checked")&&t('body.post-type-meetings form#post input[name="types[]"][value="O"]').prop("checked")&&("C"==t(this).val()?t('body.post-type-meetings form#post input[name="types[]"][value="O"]').prop("checked",!1):t('body.post-type-meetings form#post input[name="types[]"][value="C"]').prop("checked",!1))});var o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:tsml.ajaxurl+"?action=tsml_locations",cache:!1}});t("input#location").typeahead(null,{displayKey:"value",source:o}).on("typeahead:autocompleted typeahead:selected",function(e,i){t("input[name=formatted_address]").val(i.formatted_address).trigger("change"),t("input[name=latitude]").val(i.latitude),t("input[name=longitude]").val(i.longitude),t("select[name=region] option[value="+i.region+"]").prop("selected",!0),t("textarea[name=location_notes]").val(i.notes)});var u=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:tsml.ajaxurl+"?action=tsml_groups",ttl:10}});t("input#group").typeahead(null,{displayKey:"value",source:u}).on("typeahead:autocompleted typeahead:selected",function(e,i){t("input[name=website]").val(i.website),t("input[name=email]").val(i.email),t("input[name=phone]").val(i.phone),t("input[name=contact_1_name]").val(i.contact_1_name),t("input[name=contact_1_email]").val(i.contact_1_email),t("input[name=contact_1_phone]").val(i.contact_1_phone),t("input[name=contact_2_name]").val(i.contact_2_name),t("input[name=contact_2_email]").val(i.contact_2_email),t("input[name=contact_2_phone]").val(i.contact_2_phone),t("input[name=contact_3_name]").val(i.contact_3_name),t("input[name=contact_3_email]").val(i.contact_3_email),t("input[name=contact_3_phone]").val(i.contact_3_phone),t("input[name=last_contact]").val(i.last_contact),t("textarea[name=group_notes]").val(i.notes)}),t('input[name="group_status"]').change(function(){"individual"==t(this).val()?(t("input#group").closest(".meta_form_row").addClass("hidden"),t("input#group").val(""),t("textarea#group_notes").closest(".meta_form_row").addClass("hidden"),t("textarea#group_notes").val(""),t("select#district").closest(".meta_form_row").addClass("hidden"),t("select#district").val(""),t(".apply_group_to_location").addClass("hidden")):(t("input#group").closest(".meta_form_row").removeClass("hidden"),t("textarea#group_notes").closest(".meta_form_row").removeClass("hidden"),t("select#district").closest(".meta_form_row").removeClass("hidden"))}),t("input#group").change(function(){t("div#group .apply_group_to_location").removeClass("hidden")}),t("input#formatted_address").change(function(){n(),t("input#latitude").val(""),t("input#longitude").val("");var e=t(this).val().trim();return e.length?void t.getJSON("https://maps.googleapis.com/maps/api/geocode/json",{address:e,key:tsml.google_api_key,language:tsml.language},function(e){if("OK"==e.status){var n=t.parseJSON(tsml.google_overrides),s="undefined"==typeof n[e.results[0].formatted_address]?{formatted_address:e.results[0].formatted_address,latitude:e.results[0].geometry.location.lat,longitude:e.results[0].geometry.location.lng}:s=n[e.results[0].formatted_address];t("input#latitude").val(s.latitude),t("input#longitude").val(s.longitude),r(s.latitude,s.longitude);var a=!1;t("select#region option[selected]").length||t("select#region option").each(function(){var e=t(this).text().replace("&nbsp;","").trim();s.formatted_address.indexOf(e)!=-1&&(a=t(this).attr("value"))}),t("input#formatted_address").val(s.formatted_address).trigger("keyup"),t.getJSON(tsml.ajaxurl+"?action=address",{formatted_address:s.formatted_address},function(e){e&&(t("input[name=location]").val(e.location),e.region!=t("select[name=region]").val()&&(t("select[name=region] option").prop("selected",!1),t("select[name=region] option[value="+e.region+"]").prop("selected",!0)),t("textarea[name=location_notes]").val(e.location_notes)),e&&e.region||t("select#region option[selected]").length||!a||t("select[name=region] option[value="+a+"]").prop("selected",!0),i()})}}):(r(),t("input#formatted_address").val(""),void i())}).keyup(function(){var e=t(this).attr("data-original-value");e!=t(this).val()&&n(),t("div.apply_address_to_location").size()&&(e.length&&e!=t(this).val()?t("div.apply_address_to_location").removeClass("hidden"):t("div.apply_address_to_location").addClass("hidden"))}),t("input#formatted_address").val()&&t("input#formatted_address").trigger("change")}});